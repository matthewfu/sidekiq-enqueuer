<h3>Enqueuer</h3>
<form method="post" action="<%= root_path %>enqueuer">
  <%= csrf_tag if respond_to?(:csrf_tag) %>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Perform</h3>
    </div>
    <div class="panel-body">
      <div class="form-group">
        Description: <%= Object.const_get(@job.name).respond_to?(:description) ? Object.const_get(@job.name).description : 'No description, please make sure what you are doing.'  %>
      </div>

      <div class="form-group">
        Maintance Note: <%= Object.const_get(@job.name).respond_to?(:maintance_note) ? Object.const_get(@job.name).maintance_note : ''  %>
      </div>
      <div class="form-group">
        <label for="job_class_name">Job Class/Module</label>
        <input class="form-control" name="job_class_name" value="<%= @job.name %>" readonly=readonly />
      </div>
      <% @job.params.each do |param| %>
        <div class="form-group">
          <label for="perform[<%= param %>]"><%= param.name %>
            <span style="color: red; font-size: small;">&nbsp;&nbsp;&nbsp;*<%= param.label %></span>
          </label>
          <% if param.default_value_for_opt_field.present? %>
            <input class="form-control" name="perform[<%= param.name %>]" value="<%=  param.default_value_for_opt_field %>" placeholder="Need a 'nil' for letting job run with default value. Leaving blank will see as using empty string" />
          <% else %>
            <input class="form-control" name="perform[<%= param.name %>]" placeholder="Need a 'nil' for letting job run with default value. Leaving blank will see as using empty string" />
          <% end %>
        </div>
      <% end %>
    </div>
  </div>

  <div class="form-group">
    <input type="submit" class="btn btn-danger" name="submit" value="Enqueue" />
  </div>

  <div class="form-group">
    <hr />
  </div>

  <div class="form-group">
    <label for="enqueue_in">Enqueue in</label>
    <input class="form-control" name="enqueue_in" placeholder="x seconds" />
  </div>

  <input type="submit" class="btn btn-danger" name="submit" value="Schedule" />
</form>
